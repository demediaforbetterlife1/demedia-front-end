@import "tailwindcss";
@import "../styles/theme-effects.css";

/* Works for Chrome, Safari, Edge */
*::-webkit-scrollbar {
    width: 0px;
    height: 0px;
}

/* Works for Firefox */
* {
    scrollbar-width: none; /* completely removes track */
    -ms-overflow-style: none; /* IE/Edge */
}

/* Theme Variables */
:root {
    --bg-primary: #0f0f0f;
    --bg-secondary: #1a1a1a;
    --bg-tertiary: #2a2a2a;
    --text-primary: #ffffff;
    --text-secondary: #b3b3b3;
    --text-tertiary: #808080;
    --border-color: #333333;
    --accent-color: #3b82f6;
    --hover-bg: #2a2a2a;
}

/* Dark Theme */
.dark {
    --bg-primary: #0f0f0f;
    --bg-secondary: #1a1a1a;
    --bg-tertiary: #2a2a2a;
    --text-primary: #ffffff;
    --text-secondary: #b3b3b3;
    --text-tertiary: #808080;
    --border-color: #333333;
    --accent-color: #3b82f6;
    --hover-bg: #2a2a2a;
}

/* Super Dark Theme */
.super-dark {
    --bg-primary: #000000;
    --bg-secondary: #0a0a0a;
    --bg-tertiary: #1a1a1a;
    --text-primary: #ffffff;
    --text-secondary: #a0a0a0;
    --text-tertiary: #666666;
    --border-color: #1a1a1a;
    --accent-color: #8b5cf6;
    --hover-bg: #1a1a1a;
}

/* Light Theme */
.light {
    --bg-primary: #ffffff;
    --bg-secondary: #f8f9fa;
    --bg-tertiary: #e9ecef;
    --text-primary: #000000;
    --text-secondary: #495057;
    --text-tertiary: #6c757d;
    --border-color: #dee2e6;
    --accent-color: #007bff;
    --hover-bg: #f8f9fa;
}

/* Super Light Theme */
.super-light {
    --bg-primary: #ffffff;
    --bg-secondary: #fafafa;
    --bg-tertiary: #f5f5f5;
    --text-primary: #000000;
    --text-secondary: #333333;
    --text-tertiary: #666666;
    --border-color: #e0e0e0;
    --accent-color: #0066cc;
    --hover-bg: #fafafa;
}

/* Gold Theme */
.gold {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --bg-tertiary: #3a3a3a;
    --text-primary: #ffd700;
    --text-secondary: #ffed4e;
    --text-tertiary: #b8860b;
    --border-color: #4a4a4a;
    --accent-color: #ffd700;
    --hover-bg: #2d2d2d;
}

/* Iron Theme */
.iron {
    --bg-primary: #2c2c2c;
    --bg-secondary: #3a3a3a;
    --bg-tertiary: #4a4a4a;
    --text-primary: #c0c0c0;
    --text-secondary: #a8a8a8;
    --text-tertiary: #808080;
    --border-color: #5a5a5a;
    --accent-color: #c0c0c0;
    --hover-bg: #3a3a3a;
}

/* Theme-aware utility classes */
.bg-primary {
    background-color: var(--bg-primary);
}
.bg-secondary {
    background-color: var(--bg-secondary);
}
.bg-tertiary {
    background-color: var(--bg-tertiary);
}
.text-primary {
    color: var(--text-primary);
}
.text-secondary {
    color: var(--text-secondary);
}
.text-tertiary {
    color: var(--text-tertiary);
}
.border-theme {
    border-color: var(--border-color);
}
.text-accent {
    color: var(--accent-color);
}
.bg-accent {
    background-color: var(--accent-color);
}
.hover-bg {
    background-color: var(--hover-bg);
}

@custom-variant dark (&:is(.dark *));

@theme inline {
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);
    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);
    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);
    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);
    --color-destructive: var(--destructive);
    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);
    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);
    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

:root {
    --radius: 0.625rem;
    --background: oklch(0.99 0 0);
    --foreground: oklch(0.12 0.005 285.823);
    --card: oklch(0.99 0 0);
    --card-foreground: oklch(0.12 0.005 285.823);
    --popover: oklch(0.99 0 0);
    --popover-foreground: oklch(0.12 0.005 285.823);
    --primary: oklch(0.15 0.006 285.885);
    --primary-foreground: oklch(0.99 0 0);
    --secondary: oklch(0.95 0.001 286.375);
    --secondary-foreground: oklch(0.15 0.006 285.885);
    --muted: oklch(0.95 0.001 286.375);
    --muted-foreground: oklch(0.45 0.016 285.938);
    --accent: oklch(0.95 0.001 286.375);
    --accent-foreground: oklch(0.15 0.006 285.885);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.88 0.004 286.32);
    --input: oklch(0.88 0.004 286.32);
    --ring: oklch(0.65 0.015 286.067);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --sidebar: oklch(0.99 0 0);
    --sidebar-foreground: oklch(0.12 0.005 285.823);
    --sidebar-primary: oklch(0.15 0.006 285.885);
    --sidebar-primary-foreground: oklch(0.99 0 0);
    --sidebar-accent: oklch(0.95 0.001 286.375);
    --sidebar-accent-foreground: oklch(0.15 0.006 285.885);
    --sidebar-border: oklch(0.88 0.004 286.32);
    --sidebar-ring: oklch(0.65 0.015 286.067);
}

.dark {
    --background: oklch(0.08 0.005 285.823);
    --foreground: oklch(0.98 0 0);
    --card: oklch(0.12 0.006 285.885);
    --card-foreground: oklch(0.98 0 0);
    --popover: oklch(0.12 0.006 285.885);
    --popover-foreground: oklch(0.98 0 0);
    --primary: oklch(0.95 0.004 286.32);
    --primary-foreground: oklch(0.12 0.006 285.885);
    --secondary: oklch(0.18 0.006 286.033);
    --secondary-foreground: oklch(0.98 0 0);
    --muted: oklch(0.18 0.006 286.033);
    --muted-foreground: oklch(0.65 0.016 285.938);
    --accent: oklch(0.18 0.006 286.033);
    --accent-foreground: oklch(0.98 0 0);
    --destructive: oklch(0.704 0.191 22.216);
    --border: oklch(0.18 0.006 286.033);
    --input: oklch(0.18 0.006 286.033);
    --ring: oklch(0.75 0.016 285.938);
    --chart-1: oklch(0.488 0.243 264.376);
    --chart-2: oklch(0.696 0.17 162.48);
    --chart-3: oklch(0.769 0.188 70.08);
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);
    --sidebar: oklch(0.12 0.006 285.885);
    --sidebar-foreground: oklch(0.98 0 0);
    --sidebar-primary: oklch(0.95 0.004 286.32);
    --sidebar-primary-foreground: oklch(0.12 0.006 285.885);
    --sidebar-accent: oklch(0.18 0.006 286.033);
    --sidebar-accent-foreground: oklch(0.98 0 0);
    --sidebar-border: oklch(0.18 0.006 286.033);
    --sidebar-ring: oklch(0.75 0.016 285.938);
}

/* Enhanced Theme Animations and Effects */
@layer utilities {
    /* Radial Gradient Backgrounds */
    .bg-gradient-radial {
        background: radial-gradient(circle, var(--tw-gradient-stops));
    }

    .bg-gradient-radial-at-t {
        background: radial-gradient(ellipse at top, var(--tw-gradient-stops));
    }

    .bg-gradient-radial-at-b {
        background: radial-gradient(
            ellipse at bottom,
            var(--tw-gradient-stops)
        );
    }

    /* Custom Animations */
    .animate-pulse-slow {
        animation: pulse-slow 4s ease-in-out infinite;
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    .animate-glow {
        animation: glow 2s ease-in-out infinite alternate;
    }

    .animate-shimmer {
        animation: shimmer 3s linear infinite;
    }

    .animate-particle {
        animation: particle 8s linear infinite;
    }

    /* Gold Theme Specific Effects */
    .gold-shimmer {
        position: relative;
        overflow: hidden;
    }

    .gold-shimmer::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 215, 0, 0.3),
            transparent
        );
        animation: shimmer 2s infinite;
    }

    .gold-glow {
        box-shadow:
            0 0 20px rgba(255, 215, 0, 0.3),
            0 0 40px rgba(255, 215, 0, 0.2),
            0 0 80px rgba(255, 215, 0, 0.1);
    }

    /* Super Dark Theme Effects */
    .super-dark-glow {
        box-shadow:
            0 0 20px rgba(139, 92, 246, 0.3),
            0 0 40px rgba(139, 92, 246, 0.2),
            0 0 80px rgba(139, 92, 246, 0.1);
    }

    .neural-grid {
        background-image:
            linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px);
        background-size: 32px 32px;
    }

    /* Super Light Theme Effects */
    .light-rays {
        background: linear-gradient(
            45deg,
            transparent 30%,
            rgba(59, 130, 246, 0.05) 50%,
            transparent 70%
        );
        animation: ray-sweep 8s linear infinite;
    }

    .cloud-effect {
        background: radial-gradient(
            ellipse 800px 400px at 50% 0%,
            rgba(59, 130, 246, 0.1),
            transparent
        );
        animation: cloud-drift 12s ease-in-out infinite;
    }

    /* Glass Morphism Effects */
    .glass {
        backdrop-filter: blur(10px) saturate(200%);
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .glass-dark {
        backdrop-filter: blur(10px) saturate(200%);
        background: rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .glass-gold {
        backdrop-filter: blur(10px) saturate(200%);
        background: rgba(255, 215, 0, 0.1);
        border: 1px solid rgba(255, 215, 0, 0.2);
    }
}

/* Keyframes */
@keyframes pulse-slow {
    0%,
    100% {
        opacity: 0.3;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.05);
    }
}

@keyframes float {
    0%,
    100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

@keyframes glow {
    from {
        text-shadow:
            0 0 10px currentColor,
            0 0 20px currentColor;
    }
    to {
        text-shadow:
            0 0 20px currentColor,
            0 0 30px currentColor,
            0 0 40px currentColor;
    }
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}

@keyframes particle {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

@keyframes ray-sweep {
    0% {
        transform: translateX(-100%) rotate(45deg);
    }
    100% {
        transform: translateX(100vw) rotate(45deg);
    }
}

@keyframes cloud-drift {
    0%,
    100% {
        transform: translateX(-50px);
        opacity: 0.3;
    }
    50% {
        transform: translateX(50px);
        opacity: 0.6;
    }
}

/* Smooth Transitions - GPU optimized */
.transition-theme {
    transition:
        background-color 0.2s ease,
        color 0.2s ease,
        border-color 0.2s ease;
    will-change: background-color, color, border-color;
}

.transition-glow {
    transition:
        box-shadow 0.2s ease,
        transform 0.2s ease;
    will-change: box-shadow, transform;
}

.transition-glass {
    transition:
        backdrop-filter 0.2s ease,
        background 0.2s ease;
    will-change: backdrop-filter, background;
}

/* Performance-optimized transitions for low-end devices */
@media (max-width: 768px), (hover: none) {
    .transition-theme,
    .transition-glow,
    .transition-glass {
        transition-duration: 0.15s;
    }
}

/* Responsive Enhancements */
@media (prefers-reduced-motion: reduce) {
    .animate-pulse-slow,
    .animate-float,
    .animate-glow,
    .animate-shimmer,
    .animate-particle {
        animation: none;
    }

    .gold-shimmer::after {
        display: none;
    }
    
    /* Disable all transitions for reduced motion */
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

@media (max-width: 768px) {
    .gold-glow,
    .super-dark-glow {
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
    }
    
    /* Performance optimizations for mobile/tablet */
    .backdrop-blur-xl {
        backdrop-filter: blur(8px);
    }
    
    .backdrop-blur-2xl {
        backdrop-filter: blur(12px);
    }
    
    /* Reduce shadow complexity on mobile */
    .theme-shadow {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }
    
    /* Disable expensive hover effects on touch devices */
    @media (hover: none) {
        .hover\:shadow-xl:hover,
        .hover\:shadow-lg:hover {
            box-shadow: none;
        }
        
        .group-hover\:scale-\[1\.01\]:hover {
            transform: none;
        }
    }
}

/* GPU acceleration for animated elements */
.animate-pulse-slow,
.animate-float,
.animate-glow,
.animate-shimmer,
.animate-particle,
.gold-shimmer::after {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* ============================================
   RESPONSIVE MODAL & PAGE UTILITIES
   ============================================ */

/* Modal responsive container */
.modal-responsive {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
}

@media (min-width: 640px) {
    .modal-responsive {
        max-width: 90%;
        margin: 1rem;
    }
}

@media (min-width: 768px) {
    .modal-responsive {
        max-width: 80%;
        margin: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .modal-responsive {
        max-width: 70%;
        margin: 2rem;
    }
}

/* Safe area padding for mobile devices with notches */
.safe-area-inset {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
}

/* Prevent iOS zoom on input focus */
input, textarea, select {
    font-size: 16px !important;
}

@media (min-width: 768px) {
    input, textarea, select {
        font-size: inherit !important;
    }
}

/* Touch-friendly tap targets */
.touch-target {
    min-height: 44px;
    min-width: 44px;
}

/* Responsive text utilities */
.text-responsive-xs {
    font-size: 0.65rem;
}
.text-responsive-sm {
    font-size: 0.75rem;
}
.text-responsive-base {
    font-size: 0.875rem;
}
.text-responsive-lg {
    font-size: 1rem;
}

@media (min-width: 640px) {
    .text-responsive-xs {
        font-size: 0.75rem;
    }
    .text-responsive-sm {
        font-size: 0.875rem;
    }
    .text-responsive-base {
        font-size: 1rem;
    }
    .text-responsive-lg {
        font-size: 1.125rem;
    }
}

/* Responsive spacing */
.p-responsive {
    padding: 0.5rem;
}
.px-responsive {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}
.py-responsive {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
}
.gap-responsive {
    gap: 0.5rem;
}

@media (min-width: 640px) {
    .p-responsive {
        padding: 0.75rem;
    }
    .px-responsive {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }
    .py-responsive {
        padding-top: 0.75rem;
        padding-bottom: 0.75rem;
    }
    .gap-responsive {
        gap: 0.75rem;
    }
}

@media (min-width: 768px) {
    .p-responsive {
        padding: 1rem;
    }
    .px-responsive {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    .py-responsive {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }
    .gap-responsive {
        gap: 1rem;
    }
}

/* Full-screen modal on mobile */
.modal-fullscreen-mobile {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    max-height: 100vh;
    max-height: 100dvh; /* Dynamic viewport height for mobile */
    border-radius: 0;
}

@media (min-width: 640px) {
    .modal-fullscreen-mobile {
        position: relative;
        inset: auto;
        width: auto;
        height: auto;
        max-height: 90vh;
        border-radius: 1rem;
    }
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Responsive grid for cards */
.grid-responsive-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
}

@media (min-width: 480px) {
    .grid-responsive-cards {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
}

@media (min-width: 640px) {
    .grid-responsive-cards {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.75rem;
    }
}

@media (min-width: 768px) {
    .grid-responsive-cards {
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
    }
}

@media (min-width: 1024px) {
    .grid-responsive-cards {
        grid-template-columns: repeat(5, 1fr);
    }
}

@media (min-width: 1280px) {
    .grid-responsive-cards {
        grid-template-columns: repeat(6, 1fr);
    }
}

/* Extra small breakpoint (xs) */
@media (min-width: 375px) {
    .xs\:block {
        display: block;
    }
    .xs\:hidden {
        display: none;
    }
    .xs\:flex {
        display: flex;
    }
    .xs\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }
    
    /* Apply transitions only to elements that need them */
    body,
    .theme-transition,
    [class*="theme-bg"],
    [class*="theme-text"],
    [class*="theme-border"] {
        transition:
            background-color 0.2s ease,
            color 0.2s ease,
            border-color 0.2s ease;
    }
    
    body {
        @apply bg-background text-foreground;
        /* Optimize text rendering */
        text-rendering: optimizeSpeed;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* Performance hints for frequently animated elements */
    .motion-safe {
        will-change: transform, opacity;
    }
    
    /* Contain layout for better performance */
    article, section, aside, nav {
        contain: layout style;
    }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
